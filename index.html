<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farewell Letter</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Gambar di bagian atas -->
    <img src="fl.jpg" alt="Farewell Letter" class="header-img">

    <h1>Hey, you got a farewell letter from AuroraðŸ’–</h1>
    <p>Let's put your log-in code to check yours.</p>

    <!-- Input Token -->
    <input type="text" id="tokenInput" placeholder="Input here...">
    <button onclick="cekToken()">Open</button>

    <!-- Surat akan muncul di sini -->
    <div id="surat" class="surat-container hidden">
        <p id="isiSurat"></p>
    </div>

    <script>
        let suratData = {};

        // Ambil data surat dari JSON
        async function loadSurat() {
            console.log("Memulai fetching surat.json...");
            try {
                const response = await fetch('surat.json');
                if (!response.ok) throw new Error("Gagal mengambil surat.json");
                suratData = await response.json();
                console.log("Data surat yang dimuat:", suratData);
            } catch (error) {
                console.error("Gagal mengambil data surat:", error);
            }
        }

        loadSurat(); // Panggil fungsi saat halaman dimuat

        function cekToken() {
            let token = document.getElementById("tokenInput").value.trim();
            let suratContainer = document.getElementById("surat");
            let isiSurat = document.getElementById("isiSurat");

            console.log("Token yang dimasukkan:", token); // Debugging

            if (suratData[token]) {
                isiSurat.innerText = suratData[token];
                suratContainer.classList.remove("hidden");
            } else {
                alert("Token tidak valid! Coba lagi ðŸ’•");
            }
        }
    </script>

</body>
</html>
