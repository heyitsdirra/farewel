<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Until We Meet Again</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Lexend:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Halaman Input Token -->
    <div id="halaman-awal" class="container">
        <img src="fl.jpg" alt="Farewell Letter" class="header-img">
        <h1>Until We Meet Again üçÇ</h1>
        <p>Enter your code to reveal your farewell letter.</p>
        
        <input type="text" id="tokenInput" placeholder="Type your code...">
        <button onclick="cekToken()">Open</button>
    </div>

    <!-- Halaman Surat (Tersembunyi awalnya) -->
    <div id="halaman-surat" class="container hidden">
        <p class="letter-text" id="isiSurat"></p>
        
        <!-- Spotify Embed -->
        <div class="spotify-container">
            <iframe src="https://open.spotify.com/embed/track/1qEmFfgcLObUfQm0j1W2CK?utm_source=generator" 
                width="100%" height="80" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                loading="lazy">
            </iframe>
        </div>
    </div>

    <script>
        let suratData = {};

        // Fetch data dari surat.json
        fetch('surat.json')
            .then(response => response.json())
            .then(data => { 
                suratData = data;
            })
            .catch(error => console.error("Gagal mengambil data surat:", error));

        function cekToken() {
            let token = document.getElementById("tokenInput").value.trim();
            let halamanAwal = document.getElementById("halaman-awal");
            let halamanSurat = document.getElementById("halaman-surat");
            let isiSurat = document.getElementById("isiSurat");

            if (suratData[token]) {
                isiSurat.innerText = suratData[token];
                halamanAwal.classList.add("hidden"); // Sembunyikan halaman awal
                halamanSurat.classList.remove("hidden"); // Tampilkan halaman surat
            } else {
                alert("Kode tidak valid! Coba lagi üíï");
            }
        }
    </script>

</body>
</html>
